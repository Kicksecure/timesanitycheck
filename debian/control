## This file is part of Whonix.
## Copyright (C) 2012 - 2014 Patrick Schleizer <adrelanos@riseup.net>
## See the file COPYING for copying conditions.

Source: timesanitycheck
Section: misc
Priority: optional
Maintainer: Patrick Schleizer <adrelanos@riseup.net>
Build-Depends: debhelper (>= 9), faketime, genmkfile, dh-systemd
Homepage: https://www.whonix.org/wiki/Dev/TimeSync
Vcs-Browser: https://github.com/Whonix/timesanitycheck
Vcs-Git: https://github.com/Whonix/timesanitycheck.git
Standards-Version: 3.9.6

Package: timesanitycheck
Architecture: all
Depends: logrotate, ${misc:Depends}
Recommends: timesync
Description: Checks if the system clock is sane between build timestamp and expiration date
 Reports, if clock is sane and not slower than build timestamp or faster than
 expiration date (configurable, default currently set to 17 MAY 2033 10:00:00).
 .
 This should catch situations, where the host's clock is too much off (CMOS
 battery defect, user mistakenly set a very wrong date, etc.), resulting in
 network time synchronization tools (such as sdwdate) no longer being able to
 correct the clock; catch eventual bigger bugs in network time synchronization
 tools; and some types of attacks on network time synchronization.
 .
 Since notifications in terminal during boot messages are not well visible and
 since manually running timesanitycheck before and after running network time
 synchronization is inconvenient, it is recommended to install the timesync
 package as well, which will automate running timesanitycheck before and after
 running sdwdate and inform the user in case the clock is not sane with
 messages in X as well as in tty1.
